"use strict";var CPLocalStorage={clear:function(){this._exec(function(){localStorage.clear()})},setItem:function(t,e){this._exec(function(){localStorage.setItem(t,e)})},getItem:function(t){return this._exec(function(){return localStorage.getItem(t)})},removeItem:function(t){this._exec(function(){localStorage.removeItem(t)})},_exec:function(t){try{return t()}catch(e){}}},RememberScroll={init:function(){this._scrollToSavedPosition(),this._onUnloadStoreScrollPosition()},_scrollToSavedPosition:function(){var t=CPLocalStorage.getItem(this._getScrollPositionKey());void 0!==t&&window.scrollTo(0,t),CPLocalStorage.removeItem(this._getScrollPositionKey())},_onUnloadStoreScrollPosition:function(){if(window.onunload)return 0;var t=this;window.onunload=function(){var e=document.getElementsByTagName("body")[0];CPLocalStorage.setItem(t._getScrollPositionKey(),e.scrollTop)}},_getScrollPositionKey:function(){var t=document.location.pathname.split("/").pop();return"scrollposition:"+t}},CSSReload={init:function(){this._listenToPostMessages()},_listenToPostMessages:function(){var t=this;window[this._eventMethod()](this._messageEvent(),function(e){try{t._refreshCSS(e.data)}catch(o){}},!1)},_messageEvent:function(){return"attachEvent"===this._eventMethod()?"onmessage":"message"},_eventMethod:function(){return window.addEventListener?"addEventListener":"attachEvent"},_refreshCSS:function(t){document.getElementById("cp-pen-styles").innerHTML=t}};RememberScroll.init(),CSSReload.init();